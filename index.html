<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Algorithm Magic</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/disbelief.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Markdown style slides -->
		<link rel="script" href="plugin/markdown/marked.js">
		<link rel="script" href="plugin/markdown/markdown.js">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<style>
		#algo-magic {
			font-size: 0.65em;
			line-height: 1.3em;
			text-align: left;
			padding: 0px;
			margin: 0px;
			text-shadow: 0px 0px 3px black,  0px 0px 3px black,  0px 0px 3px black,  0px 0px 3px black;
		}
		#algo-magic em {
			color: orangered;
			font-weight: bold;
		}
		#algo-magic code {
			margin: 20px;
			display: block;
		}
		#camera, #camera-overlay {
			position: absolute;
			z-index: -1;
			top: 0;
			left: 0;
			width: 960px;
			height: 540px;
			max-width: 100%;
			max-height: 200%;
		}
		#camera {
			z-index: -3;
		}
		#camera-overlay {
			background-image:
				linear-gradient(#101820 0px, #10182000 30px, #10182000 510px, #101820 540px),
				linear-gradient(-90deg, #101820 0px, #10182000 30px, #10182000 930px, #101820 960px);
		}
		</style>
	</head>
	<body>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<div class="reveal">
			<div class="slides">
				<section data-background-image="lib/image/disbelief-banner.png" data-background-position="top" data-background-size="contain">
					<h2 style="margin-top: 3em">Algorithm Magic</h2>
					<h3>René Rivera</h3>
				</section>
				<section data-background-image="lib/image/disbelief-logo-white.png" data-background-position="bottom right" data-background-size="5em">
					<h3><code>std.hpp</code></h3>
					<pre><code class="hljs" data-trim>
#include &lt;vector&gt;
#include &lt;random&gt;
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
#include &lt;numeric&gt;
using namespace std;
					</code></pre>
				</section>
				<section id="algo-section" data-background-image="lib/image/disbelief-logo-white.png" data-background-position="bottom right" data-background-size="5em" data-state="show-camera">
					<div id="camera-overlay"></div>
					<video id="camera" autoplay="true"></video>
					<p id="algo-magic">
						<code>
							#include "std.hpp"</br>
							int main() {</br>
							<span class="fragment fade-up">
								&nbsp;&nbsp;vector&lt;int&gt; cards(24); <em>iota</em>(cards.begin(),cards.end(),0);</br>
							</span>
							<span class="fragment fade-up">
								&nbsp;&nbsp;mt19937 r(random_device{}()); <em>shuffle</em>(cards.begin(),cards.end(),r);</br>
							</span>
							<span class="">
								&nbsp;&nbsp;<span class="fragment fade-up">int C; cin&gt;&gt;C;</span><span class="fragment fade-up"> cout&lt;&lt;"cards["&lt;&lt;C&lt;&lt;"]: "; C = cards[C]; cout&lt;&lt;C&lt;&lt;"\n";</span></br>
							</span>
							<span class="fragment fade-up">
								&nbsp;&nbsp;<em>shuffle</em>(cards.begin(),cards.end(),r);</br>
							</span>
							<span class="fragment fade-up">
								&nbsp;&nbsp;for (int i: {0,1,2}) {</br>
								<span class="fragment fade-up">
									&nbsp;&nbsp;&nbsp;&nbsp;vector&lt;int&gt; decks[4];</br>
								</span>
								<span class="fragment fade-up">
									&nbsp;&nbsp;&nbsp;&nbsp;<em>accumulate</em>(cards.begin(),cards.end(),0,[&](int d, int c) {</br>
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decks[d%4].insert(decks[d%4].begin(),c); return (d+1)%4; });</br>
								</span>
								<span class="fragment fade-up">
									&nbsp;&nbsp;&nbsp;&nbsp;int d = distance(decks, <em>find_if</em>(decks,decks+4,</br>
									&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&](auto &d) { return <em>count</em>(d.begin(),d.end(),C) > 0; }));</br>
								</span>
								<span class="fragment fade-up">
									&nbsp;&nbsp;&nbsp;&nbsp;cards.clear(); for (int i: {d,d+1,d+2,d+3}) { </br>
									&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>move</em>(decks[i%4].begin(),decks[i%4].end(),back_inserter(cards)); }</br>
								</span>
								&nbsp;&nbsp;}</br>
							</span>
							<span class="fragment fade-up">
								&nbsp;&nbsp;cout&lt;&lt;"cards[4]: "&lt;&lt;cards[4]&lt;&lt;"\n";</br>
							</span>
							}
						</code>
					</p>
				</section>
				<section data-markdown data-background-image="lib/image/disbelief-logo-white.png" data-background-position="bottom right" data-background-size="5em">
					<textarea data-template>
						### About Disbelief

						* We’re a games consultation company based out of Cambridge, MA and Chicago, IL.
						* We’ve done AAA development, VR, AR and console development.
						* Notable projects we’ve worked on include Borderlands: The Handsome Collection for PS4 and Xbox One, Gears of War 4, and Oculus Dreamdeck.
						* We’re are always in the lookout for all levels of developers. Send your resumes to jobs@disbelief.com!
						* More information at http://www.disbelief.com.
					</textarea>
				</section>
				<section data-markdown data-background-image="lib/image/disbelief-logo-white.png" data-background-position="bottom right" data-background-size="5em">
					Thank you!
				</section>
			</div>
		</div>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				controls: false,
				slideNumber: true,
				fragmentInURL: true,
				transition: 'fade',
				width: 960,
				height: 540,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
		<script>
			function show_video() {
				// if (navigator.mediaDevices.enumerateDevices) {
				// 	navigator.mediaDevices.enumerateDevices()
				// 		.then(function (info) {
				// 			for (var i = 0; i !== info.length; ++i) {
				// 				console.log(info[i]);
				// 			}
				// 		});
				// }
				var video = document.querySelector("#camera");
				if (navigator.mediaDevices.getUserMedia) {
					navigator.mediaDevices.getUserMedia({ video: {
						// USB Cam:
						deviceId: { exact: "2c675d87b1c20ec22c12a8791271abf5bf19c89b2208a07c75f869ef5c649fad" },
						// FaceTime Cam:
						// deviceId: { exact: "88b676202dc5321c3cb4eb8931ee35a0fb16760f88f5b2fd4505ca8722851ce8" },
						width: { ideal: 960 },
						height: { ideal: 540 }
					} })
						.then(function (stream) { video.srcObject = stream; })
						.catch(function (error) { console.log("Something went wrong!"); });
				}
			}
			Reveal.addEventListener('show-camera', show_video);
		</script>
	</body>
</html>
